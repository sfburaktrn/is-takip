generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Damper {
  id                    Int      @id @default(autoincrement())
  imalatNo              Int?
  musteri               String
  aracGeldiMi           Boolean  @default(false)
  aracMarka             String?
  model                 String?
  tip                   String
  malzemeCinsi          String
  m3                    Float?
  plazmaProgrami        Boolean  @default(false)
  sacMalzemeKontrolu    Boolean  @default(false)
  plazmaKesim           Boolean  @default(false)
  damperSasiPlazmaKesim Boolean  @default(false)
  presBukum             Boolean  @default(false)
  aracBraket            Boolean  @default(false)
  damperSasi            Boolean  @default(false)
  sasiYukleme           Boolean  @default(false)
  milAltKutuk           Boolean  @default(false)
  taban                 Boolean  @default(false)
  yan                   Boolean  @default(false)
  onGogus               Boolean  @default(false)
  arkaKapak             Boolean  @default(false)
  yuklemeMalzemesi      Boolean  @default(false)
  damperKurulmasi       Boolean  @default(false)
  damperKaynak          Boolean  @default(false)
  sasiKapakSiperlik     Boolean  @default(false)
  yukleme               Boolean  @default(false)
  hidrolik              Boolean  @default(false)
  boyaHazirlik          Boolean  @default(false)
  boya                  Boolean  @default(false)
  elektrik              Boolean  @default(false)
  hava                  Boolean  @default(false)
  tamamlama             Boolean  @default(false)
  sonKontrol            Boolean  @default(false)
  kurumMuayenesi        String   @default("YOK")
  dmoMuayenesi          String   @default("MUAYENE YOK")
  teslimat              Boolean  @default(false)
  branda                Boolean  @default(false)
  brandaMontaji         Boolean  @default(false)
  createdAt             DateTime @default(now())
  updatedAt             DateTime @updatedAt
  adet                  Int      @default(1)
  sasiNo                String?
}

model Dorse {
  id                    Int      @id @default(autoincrement())
  imalatNo              Int?
  musteri               String
  cekiciGeldiMi         Boolean  @default(false)
  dingil                String?
  lastik                String?
  tampon                String?
  kalinlik              String?
  m3                    Float?
  
  // KESIM - BUKUM
  plazmaProgrami        Boolean  @default(false)
  sacMalzemeKontrolu    Boolean  @default(false)
  plazmaKesim           Boolean  @default(false)
  presBukum             Boolean  @default(false)
  dorseSasi             Boolean  @default(false)

  // ON HAZIRLIK
  milAltKutuk           Boolean  @default(false)
  taban                 Boolean  @default(false)
  yan                   Boolean  @default(false)
  onGogus               Boolean  @default(false)
  arkaKapak             Boolean  @default(false)
  yuklemeMalzemesi      Boolean  @default(false)

  // MONTAJ
  dorseKurulmasi        Boolean  @default(false)
  dorseKaynak           Boolean  @default(false)
  kapakSiperlik         Boolean  @default(false)
  yukleme               Boolean  @default(false)
  hidrolik              Boolean  @default(false)

  // BOYA
  boyaHazirlik          Boolean  @default(false)
  dorseSasiBoyama       Boolean  @default(false)

  // TAMAMLAMA
  fren                  Boolean  @default(false)
  dorseElektrik         Boolean  @default(false)
  tamamlama             Boolean  @default(false)
  cekiciElektrik        Boolean  @default(false)
  cekiciHidrolik        Boolean  @default(false)
  aracKontrolBypassAyari Boolean @default(false)
  
  // SON KONTROL
  sonKontrol            Boolean  @default(false)
  tipOnay               Boolean  @default(false)
  fatura                Boolean  @default(false)
  akmTseMuayenesi       String   @default("YOK")
  dmoMuayenesi          String   @default("MUAYENE YOK")
  tahsilat              Boolean  @default(false)
  teslimat              Boolean  @default(false)
  branda                Boolean  @default(false)
  brandaMontaji         Boolean  @default(false)
  
  createdAt             DateTime @default(now())
  updatedAt             DateTime @updatedAt
  adet                  Int      @default(1)
  sasiNo                String?
  silindir              String?
  malzemeCinsi          String?

  // RELATIONSHIP
  sasiId                Int?     @unique
  sasi                  Sasi?    @relation(fields: [sasiId], references: [id])
}

model User {
  id        Int      @id @default(autoincrement())
  username  String   @unique
  password  String
  fullName  String
  isAdmin   Boolean  @default(false)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  loginLogs LoginLog[]
}

model LoginLog {
  id        Int      @id @default(autoincrement())
  userId    Int
  user      User     @relation(fields: [userId], references: [id])
  loginAt   DateTime @default(now())
  ipAddress String?
}

model Sasi {
  id                    Int      @id @default(autoincrement())
  imalatNo              Int?
  musteri               String?
  sasiNo                String?
  tampon                String?
  dingil                String?
  
  // KESIM - BUKUM
  plazmaProgrami        Boolean  @default(false)
  sacMalzemeKontrolu    Boolean  @default(false)
  plazmaKesim           Boolean  @default(false)
  presBukum             Boolean  @default(false)

  // ON HAZIRLIK
  lenjorenMontaji       Boolean  @default(false)
  robotKaynagi          Boolean  @default(false)

  // MONTAJ
  saseFiksturCatim      Boolean  @default(false)
  kaynak                Boolean  @default(false)
  dingilMontaji         Boolean  @default(false)
  genelKaynak           Boolean  @default(false)
  tesisatCubugu         Boolean  @default(false)
  mekanikAyak           Boolean  @default(false)
  korukMontaji          Boolean  @default(false)
  lastikMontaji         Boolean  @default(false)
  
  createdAt             DateTime @default(now())
  updatedAt             DateTime @updatedAt
  adet                  Int      @default(1)

  // RELATIONSHIP
  dorse                 Dorse?
}
